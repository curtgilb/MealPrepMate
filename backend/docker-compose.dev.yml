name: dev

services:
  # app: build
  db:
    image: postgres
    ports:
      - 5432:5432
    environment:
      POSTGRES_PASSWORD: ${DB_PASSWORD}
  jaeger:
    image: jaegertracing/all-in-one:1.60
    ports:
      - 6831:6831/udp
      - 6832:6832/udp
      - 5778:5778
      - 16686:16686
      - 4317:4317
      - 4318:4318
      - 14250:14250
      - 14268:14268
      - 14269:14269
      - 9411:9411
    environment:
      - COLLECTOR_ZIPKIN_HOST_PORT=:9411
  dbeaver:
    image: dbeaver/cloudbeaver
    ports:
      - 8080:8978
    volumes:
      - ./cloudbeaver/workspace:/opt/cloudbeaver/workspace
  # recipe_nlp:
  #   build:
  #     context: ./backend/recipe_nlp
  #   ports:
  #     - 80:80
  # storage:
  #   image: minio/minio
  #   ports:
  #     - 9000:9000
  #     - 9090:9090
  #   volumes:
  #     - ./backend/storage:/mnt/data
  #   environment:
  #     MINIO_ROOT_USER: ${MINIO_ROOT_USER}
  #     MINIO_ROOT_PASSWORD: ${MINIO_ROOT_PASSWORD}
  #   command: minio server --console-address ":9090" /mnt/data
